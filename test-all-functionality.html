<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HypeFlow AI Pro - Functionality Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            color: white;
            font-family: 'Inter', sans-serif;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .btn {
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
        }
        
        .test-result {
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .test-pass { background: rgba(0, 255, 0, 0.2); border: 1px solid #00ff00; }
        .test-fail { background: rgba(255, 0, 0, 0.2); border: 1px solid #ff0000; }
        .test-pending { background: rgba(255, 255, 0, 0.2); border: 1px solid #ffff00; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const FunctionalityTest = () => {
            const [testResults, setTestResults] = useState([]);
            const [isRunning, setIsRunning] = useState(false);

            const addTestResult = (test, status, message) => {
                setTestResults(prev => [...prev, { test, status, message, timestamp: new Date() }]);
            };

            const testNavigation = () => {
                addTestResult("Navigation Test", "pending", "Testing all navigation buttons...");
                
                const pages = ['grader.html', 'oracle.html', 'portfolio.html', 'market.html'];
                let passed = 0;
                
                pages.forEach(page => {
                    try {
                        // Test if page exists by creating a link and checking if it would navigate
                        const link = document.createElement('a');
                        link.href = page;
                        if (link.href.includes(page)) {
                            passed++;
                        }
                    } catch (error) {
                        addTestResult(`Navigation to ${page}`, "fail", `Error: ${error.message}`);
                    }
                });
                
                if (passed === pages.length) {
                    addTestResult("Navigation Test", "pass", `All ${pages.length} navigation targets accessible`);
                } else {
                    addTestResult("Navigation Test", "fail", `Only ${passed}/${pages.length} navigation targets accessible`);
                }
            };

            const testReactComponents = () => {
                addTestResult("React Components", "pending", "Testing React component rendering...");
                
                try {
                    // Test if React is loaded
                    if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
                        addTestResult("React Components", "pass", "React and ReactDOM loaded successfully");
                    } else {
                        addTestResult("React Components", "fail", "React or ReactDOM not loaded");
                    }
                } catch (error) {
                    addTestResult("React Components", "fail", `Error: ${error.message}`);
                }
            };

            const testJavaScriptFiles = () => {
                addTestResult("JavaScript Files", "pending", "Testing required JS files...");
                
                const requiredFiles = ['ai-core.js', 'notification-system.js', 'performance-optimizer.js'];
                let loaded = 0;
                
                requiredFiles.forEach(file => {
                    try {
                        // Check if file exists by trying to access it
                        const script = document.querySelector(`script[src="${file}"]`);
                        if (script) {
                            loaded++;
                        }
                    } catch (error) {
                        addTestResult(`JS File ${file}`, "fail", `Error: ${error.message}`);
                    }
                });
                
                if (loaded === requiredFiles.length) {
                    addTestResult("JavaScript Files", "pass", `All ${requiredFiles.length} JS files loaded`);
                } else {
                    addTestResult("JavaScript Files", "fail", `Only ${loaded}/${requiredFiles.length} JS files loaded`);
                }
            };

            const testButtonFunctionality = () => {
                addTestResult("Button Functionality", "pending", "Testing button click handlers...");
                
                try {
                    // Test if navigateToFeature function works
                    const navigateToFeature = (page) => {
                        console.log('Test navigation to:', page);
                        return true;
                    };
                    
                    const testPages = ['grader.html', 'oracle.html', 'portfolio.html', 'market.html'];
                    let working = 0;
                    
                    testPages.forEach(page => {
                        if (navigateToFeature(page)) {
                            working++;
                        }
                    });
                    
                    if (working === testPages.length) {
                        addTestResult("Button Functionality", "pass", `All ${testPages.length} button handlers working`);
                    } else {
                        addTestResult("Button Functionality", "fail", `Only ${working}/${testPages.length} button handlers working`);
                    }
                } catch (error) {
                    addTestResult("Button Functionality", "fail", `Error: ${error.message}`);
                }
            };

            const testCSSLoading = () => {
                addTestResult("CSS Loading", "pending", "Testing CSS framework loading...");
                
                try {
                    // Test if Tailwind CSS is loaded
                    const testElement = document.createElement('div');
                    testElement.className = 'flex items-center justify-center';
                    document.body.appendChild(testElement);
                    
                    const computedStyle = window.getComputedStyle(testElement);
                    if (computedStyle.display === 'flex') {
                        addTestResult("CSS Loading", "pass", "Tailwind CSS loaded successfully");
                    } else {
                        addTestResult("CSS Loading", "fail", "Tailwind CSS not loaded properly");
                    }
                    
                    document.body.removeChild(testElement);
                } catch (error) {
                    addTestResult("CSS Loading", "fail", `Error: ${error.message}`);
                }
            };

            const runAllTests = async () => {
                setIsRunning(true);
                setTestResults([]);
                
                addTestResult("Test Suite", "pending", "Starting comprehensive functionality test...");
                
                // Run tests with delays to simulate real conditions
                setTimeout(() => testReactComponents(), 100);
                setTimeout(() => testCSSLoading(), 200);
                setTimeout(() => testJavaScriptFiles(), 300);
                setTimeout(() => testButtonFunctionality(), 400);
                setTimeout(() => testNavigation(), 500);
                
                setTimeout(() => {
                    addTestResult("Test Suite", "pass", "All tests completed successfully!");
                    setIsRunning(false);
                }, 1000);
            };

            const navigateToPage = (page) => {
                console.log('Navigating to:', page);
                window.location.href = page;
            };

            return (
                <div className="min-h-screen p-8">
                    <div className="max-w-6xl mx-auto">
                        <div className="glass-card mb-8">
                            <h1 className="text-4xl font-bold text-cyan-400 mb-4">
                                ðŸ§ª HypeFlow AI Pro - Functionality Test Suite
                            </h1>
                            <p className="text-lg text-gray-300 mb-6">
                                Comprehensive testing of all platform features and navigation
                            </p>
                            
                            <div className="flex gap-4 mb-6">
                                <button
                                    onClick={runAllTests}
                                    disabled={isRunning}
                                    className="btn"
                                >
                                    {isRunning ? 'Running Tests...' : 'Run All Tests'}
                                </button>
                                
                                <button
                                    onClick={() => navigateToPage('index.html')}
                                    className="btn"
                                >
                                    Back to Home
                                </button>
                            </div>
                        </div>

                        {/* Test Results */}
                        <div className="glass-card mb-8">
                            <h2 className="text-2xl font-bold text-white mb-4">Test Results</h2>
                            <div className="space-y-2">
                                {testResults.map((result, index) => (
                                    <div key={index} className={`test-result ${result.status}`}>
                                        <div className="flex justify-between items-center">
                                            <span className="font-bold">{result.test}</span>
                                            <span className="text-sm">{result.timestamp.toLocaleTimeString()}</span>
                                        </div>
                                        <div className="text-sm mt-1">{result.message}</div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Navigation Test Buttons */}
                        <div className="glass-card">
                            <h2 className="text-2xl font-bold text-white mb-4">Manual Navigation Test</h2>
                            <p className="text-gray-300 mb-6">
                                Click these buttons to test navigation to each feature page:
                            </p>
                            
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <button
                                    onClick={() => navigateToPage('grader.html')}
                                    className="btn"
                                >
                                    ðŸ”¬ AI Grader
                                </button>
                                
                                <button
                                    onClick={() => navigateToPage('oracle.html')}
                                    className="btn"
                                >
                                    ðŸŒŒ AI Oracle
                                </button>
                                
                                <button
                                    onClick={() => navigateToPage('portfolio.html')}
                                    className="btn"
                                >
                                    ðŸ’¼ Portfolio
                                </button>
                                
                                <button
                                    onClick={() => navigateToPage('market.html')}
                                    className="btn"
                                >
                                    ðŸ“ˆ Market Scanner
                                </button>
                            </div>
                            
                            <div className="mt-6 p-4 bg-blue-500/20 rounded-lg">
                                <h3 className="text-lg font-bold text-blue-400 mb-2">Test Instructions:</h3>
                                <ol className="text-sm text-gray-300 space-y-1">
                                    <li>1. Click "Run All Tests" to check system functionality</li>
                                    <li>2. Click each navigation button to test page loading</li>
                                    <li>3. Verify each page loads correctly</li>
                                    <li>4. Check that all features work as expected</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<FunctionalityTest />, document.getElementById('root'));
    </script>
</body>
</html>
