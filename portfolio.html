<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Mastery - Infinity Sports Card Platform</title>
    
    <!-- CDN Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 168, 204, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #000000 0%, #0a0a0f 25%, #1a1a2e 50%, #0f3460 75%, #000000 100%);
            min-height: 100vh;
            color: white;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        .infinity-text {
            color: #00d4ff;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }
        
        .glass-morphism {
            background: rgba(0, 212, 255, 0.05);
            backdrop-filter: blur(15px) saturate(150%);
            border: 1px solid rgba(0, 212, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
        }
        
        .cyber-card {
            background: rgba(0, 100, 255, 0.08);
            border: 1px solid rgba(0, 255, 255, 0.4);
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cyber-card:hover {
            transform: translateY(-4px) scale(1.02);
            background: rgba(0, 100, 255, 0.15);
            box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.8);
        }
        
        .quantum-btn {
            background: #00d4ff;
            border: none;
            color: white;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.15s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .quantum-btn:hover {
            background: #0099cc;
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5);
        }
        
        .orbitron {
            font-family: 'Orbitron', monospace;
        }
        
        .infinity-glow {
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }
        
        .portfolio-item {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(0, 168, 204, 0.1));
            border: 2px solid rgba(0, 212, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .portfolio-item:hover {
            transform: scale(1.02);
            border-color: #00d4ff;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }
        
        .growth-positive { color: #00ff88; }
        .growth-negative { color: #ff4444; }
        .growth-neutral { color: #ffaa00; }
        
        .loading-spinner {
            border: 3px solid rgba(0, 212, 255, 0.3);
            border-top: 3px solid #00d4ff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        function PortfolioMastery() {
            const [activeTab, setActiveTab] = useState('overview');
            const [portfolioData, setPortfolioData] = useState(null);
            const [isLoading, setIsLoading] = useState(false);
            const [simulationMode, setSimulationMode] = useState(false);
            
            const performanceChartRef = useRef(null);
            const allocationChartRef = useRef(null);
            const growthChartRef = useRef(null);

            const portfolioHoldings = [
                {
                    id: 1,
                    player: 'Victor Wembanyama',
                    card: '2023 Panini Prizm Silver PSA 10',
                    purchasePrice: 1200,
                    currentValue: 2400,
                    quantity: 2,
                    totalValue: 4800,
                    roi: 100,
                    change24h: 15.2,
                    change7d: 45.8,
                    change30d: 120.5,
                    grade: 'PSA 10',
                    condition: 'Mint',
                    purchaseDate: '2023-10-15',
                    lastUpdated: '2024-01-15'
                },
                {
                    id: 2,
                    player: 'Luka Dončić',
                    card: '2018 Panini Prizm Silver PSA 10',
                    purchasePrice: 2100,
                    currentValue: 3200,
                    quantity: 1,
                    totalValue: 3200,
                    roi: 52.4,
                    change24h: 8.7,
                    change7d: 22.3,
                    change30d: 45.6,
                    grade: 'PSA 10',
                    condition: 'Mint',
                    purchaseDate: '2023-09-20',
                    lastUpdated: '2024-01-15'
                },
                {
                    id: 3,
                    player: 'Anthony Richardson',
                    card: '2023 Panini Prizm Base PSA 10',
                    purchasePrice: 425,
                    currentValue: 850,
                    quantity: 3,
                    totalValue: 2550,
                    roi: 100,
                    change24h: 12.4,
                    change7d: 28.9,
                    change30d: 65.2,
                    grade: 'PSA 10',
                    condition: 'Mint',
                    purchaseDate: '2023-11-10',
                    lastUpdated: '2024-01-15'
                },
                {
                    id: 4,
                    player: 'LeBron James',
                    card: '2003 Topps Chrome Refractor PSA 10',
                    purchasePrice: 12000,
                    currentValue: 15000,
                    quantity: 1,
                    totalValue: 15000,
                    roi: 25,
                    change24h: 2.1,
                    change7d: 5.8,
                    change30d: 12.3,
                    grade: 'PSA 10',
                    condition: 'Mint',
                    purchaseDate: '2023-08-05',
                    lastUpdated: '2024-01-15'
                },
                {
                    id: 5,
                    player: 'Patrick Mahomes',
                    card: '2017 Panini Prizm Base PSA 10',
                    purchasePrice: 2200,
                    currentValue: 2800,
                    quantity: 1,
                    totalValue: 2800,
                    roi: 27.3,
                    change24h: 3.2,
                    change7d: 8.9,
                    change30d: 18.7,
                    grade: 'PSA 10',
                    condition: 'Mint',
                    purchaseDate: '2023-12-01',
                    lastUpdated: '2024-01-15'
                }
            ];

            const portfolioStats = {
                totalValue: 28350,
                totalCost: 21825,
                totalProfit: 6525,
                totalROI: 29.9,
                change24h: 8.7,
                change7d: 22.3,
                change30d: 45.6,
                bestPerformer: 'Victor Wembanyama',
                worstPerformer: 'LeBron James',
                totalCards: 8,
                averageROI: 60.8
            };

            const performanceData = [
                { date: '2024-01-01', value: 20000 },
                { date: '2024-01-02', value: 20500 },
                { date: '2024-01-03', value: 19800 },
                { date: '2024-01-04', value: 21200 },
                { date: '2024-01-05', value: 21800 },
                { date: '2024-01-06', value: 22500 },
                { date: '2024-01-07', value: 23000 },
                { date: '2024-01-08', value: 23500 },
                { date: '2024-01-09', value: 24000 },
                { date: '2024-01-10', value: 24500 },
                { date: '2024-01-11', value: 25000 },
                { date: '2024-01-12', value: 25500 },
                { date: '2024-01-13', value: 26000 },
                { date: '2024-01-14', value: 26500 },
                { date: '2024-01-15', value: 28350 }
            ];

            useEffect(() => {
                setPortfolioData(portfolioStats);
                initializeCharts();
            }, []);

            const initializeCharts = () => {
                // Performance Chart
                if (performanceChartRef.current) {
                    const ctx = performanceChartRef.current.getContext('2d');
                    new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: performanceData.map(d => d.date),
                            datasets: [{
                                label: 'Portfolio Value',
                                data: performanceData.map(d => d.value),
                                borderColor: '#00d4ff',
                                backgroundColor: 'rgba(0, 212, 255, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: '#ffffff' }
                                }
                            },
                            scales: {
                                x: { ticks: { color: '#ffffff' } },
                                y: { ticks: { color: '#ffffff' } }
                            }
                        }
                    });
                }

                // Allocation Chart
                if (allocationChartRef.current) {
                    const ctx = allocationChartRef.current.getContext('2d');
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: portfolioHoldings.map(h => h.player),
                            datasets: [{
                                data: portfolioHoldings.map(h => h.totalValue),
                                backgroundColor: [
                                    '#00d4ff',
                                    '#00ff88',
                                    '#ffaa00',
                                    '#ff6b6b',
                                    '#9c88ff'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    labels: { color: '#ffffff' }
                                }
                            }
                        }
                    });
                }
            };

            const getGrowthColor = (change) => {
                if (change > 0) return 'growth-positive';
                if (change < 0) return 'growth-negative';
                return 'growth-neutral';
            };

            const getGrowthIcon = (change) => {
                if (change > 0) return '↗';
                if (change < 0) return '↘';
                return '→';
            };

            const simulatePortfolio = () => {
                setSimulationMode(true);
                setIsLoading(true);
                
                setTimeout(() => {
                    // Simulate portfolio growth
                    const simulatedData = portfolioHoldings.map(holding => ({
                        ...holding,
                        currentValue: Math.floor(holding.currentValue * (1 + Math.random() * 0.2)),
                        change24h: (Math.random() - 0.5) * 20,
                        change7d: (Math.random() - 0.5) * 30,
                        change30d: (Math.random() - 0.5) * 50
                    }));
                    
                    setPortfolioData({
                        ...portfolioStats,
                        totalValue: simulatedData.reduce((sum, h) => sum + h.currentValue * h.quantity, 0),
                        totalProfit: simulatedData.reduce((sum, h) => sum + (h.currentValue - h.purchasePrice) * h.quantity, 0)
                    });
                    
                    setIsLoading(false);
                    setSimulationMode(false);
                }, 2000);
            };

            const renderTabContent = () => {
                switch (activeTab) {
                    case 'overview':
                        return (
                            <div className="space-y-6">
                                {/* Portfolio Stats */}
                                <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
                                    <div className="cyber-card p-6 rounded-lg">
                                        <div className="text-sm text-gray-400">Total Value</div>
                                        <div className="text-3xl font-bold text-white">${portfolioData?.totalValue.toLocaleString()}</div>
                                        <div className="text-sm text-green-400">+${portfolioData?.totalProfit.toLocaleString()} profit</div>
                                    </div>
                                    <div className="cyber-card p-6 rounded-lg">
                                        <div className="text-sm text-gray-400">Total ROI</div>
                                        <div className="text-3xl font-bold text-green-400">+{portfolioData?.totalROI}%</div>
                                        <div className="text-sm text-gray-400">Average: {portfolioData?.averageROI}%</div>
                                    </div>
                                    <div className="cyber-card p-6 rounded-lg">
                                        <div className="text-sm text-gray-400">24h Change</div>
                                        <div className={`text-3xl font-bold ${getGrowthColor(portfolioData?.change24h)}`}>
                                            {getGrowthIcon(portfolioData?.change24h)}{Math.abs(portfolioData?.change24h)}%
                                        </div>
                                        <div className="text-sm text-gray-400">${Math.floor(portfolioData?.totalValue * portfolioData?.change24h / 100).toLocaleString()}</div>
                                    </div>
                                    <div className="cyber-card p-6 rounded-lg">
                                        <div className="text-sm text-gray-400">Total Cards</div>
                                        <div className="text-3xl font-bold text-cyan-400">{portfolioData?.totalCards}</div>
                                        <div className="text-sm text-gray-400">Holdings</div>
                                    </div>
                                </div>

                                {/* Performance Chart */}
                                <div className="glass-morphism rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-cyan-400 mb-4">Portfolio Performance</h3>
                                    <div className="h-80">
                                        <canvas ref={performanceChartRef}></canvas>
                                    </div>
                                </div>

                                {/* Allocation Chart */}
                                <div className="glass-morphism rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-cyan-400 mb-4">Portfolio Allocation</h3>
                                    <div className="h-64">
                                        <canvas ref={allocationChartRef}></canvas>
                                    </div>
                                </div>
                            </div>
                        );

                    case 'holdings':
                        return (
                            <div className="space-y-6">
                                <div className="glass-morphism rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-cyan-400 mb-4">Portfolio Holdings</h3>
                                    
                                    <div className="overflow-x-auto">
                                        <table className="w-full">
                                            <thead>
                                                <tr className="border-b border-cyan-400/20">
                                                    <th className="text-left py-3 px-4 text-cyan-400">Player</th>
                                                    <th className="text-left py-3 px-4 text-cyan-400">Card</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">Qty</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">Cost</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">Value</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">ROI</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">24h</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">7d</th>
                                                    <th className="text-right py-3 px-4 text-cyan-400">30d</th>
                                                    <th className="text-center py-3 px-4 text-cyan-400">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {portfolioHoldings.map((holding) => (
                                                    <tr key={holding.id} className="border-b border-gray-700/50">
                                                        <td className="py-3 px-4 text-white font-bold">{holding.player}</td>
                                                        <td className="py-3 px-4 text-gray-300">{holding.card}</td>
                                                        <td className="py-3 px-4 text-right text-white">{holding.quantity}</td>
                                                        <td className="py-3 px-4 text-right text-white">${holding.purchasePrice.toLocaleString()}</td>
                                                        <td className="py-3 px-4 text-right text-cyan-400 font-bold">${holding.currentValue.toLocaleString()}</td>
                                                        <td className={`py-3 px-4 text-right font-bold ${getGrowthColor(holding.roi)}`}>
                                                            +{holding.roi}%
                                                        </td>
                                                        <td className={`py-3 px-4 text-right ${getGrowthColor(holding.change24h)}`}>
                                                            {getGrowthIcon(holding.change24h)}{Math.abs(holding.change24h)}%
                                                        </td>
                                                        <td className={`py-3 px-4 text-right ${getGrowthColor(holding.change7d)}`}>
                                                            {getGrowthIcon(holding.change7d)}{Math.abs(holding.change7d)}%
                                                        </td>
                                                        <td className={`py-3 px-4 text-right ${getGrowthColor(holding.change30d)}`}>
                                                            {getGrowthIcon(holding.change30d)}{Math.abs(holding.change30d)}%
                                                        </td>
                                                        <td className="py-3 px-4 text-center">
                                                            <button className="text-cyan-400 hover:text-white transition-colors">
                                                                View
                                                            </button>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        );

                    case 'simulation':
                        return (
                            <div className="space-y-6">
                                <div className="glass-morphism rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-cyan-400 mb-4">Portfolio Simulation</h3>
                                    
                                    <div className="text-center mb-6">
                                        <div className="text-6xl mb-4">🔮</div>
                                        <p className="text-gray-300 mb-6">
                                            Simulate different market conditions and see how your portfolio would perform
                                        </p>
                                        <button 
                                            onClick={simulatePortfolio}
                                            disabled={isLoading}
                                            className="quantum-btn px-8 py-4 rounded-lg text-lg disabled:opacity-50"
                                        >
                                            {isLoading ? 'Simulating...' : 'Run Simulation'}
                                        </button>
                                    </div>

                                    {simulationMode && (
                                        <div className="text-center">
                                            <div className="loading-spinner mx-auto mb-4"></div>
                                            <div className="text-cyan-400">Running market simulation...</div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        );

                    default:
                        return null;
                }
            };

            return (
                <div className="min-h-screen">
                    {/* Header */}
                    <header className="glass-morphism border-b border-cyan-400/20 sticky top-0 z-50">
                        <div className="container mx-auto px-6 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-4">
                                    <button 
                                        onClick={() => window.location.href = 'dashboard.html'}
                                        className="text-cyan-400 hover:text-white transition-colors"
                                    >
                                        ← Back to Dashboard
                                    </button>
                                    <h1 className="text-4xl font-bold infinity-text orbitron">
                                        🌌 Portfolio Mastery
                                    </h1>
                                </div>
                                <div className="text-cyan-400 font-bold text-lg">
                                    Real-time Valuations
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="container mx-auto px-6 py-8">
                        {/* Tab Navigation */}
                        <div className="glass-morphism rounded-2xl p-6 mb-8">
                            <div className="flex gap-4">
                                <button 
                                    onClick={() => setActiveTab('overview')}
                                    className={`px-6 py-3 rounded-lg transition-all ${
                                        activeTab === 'overview' ? 'quantum-btn' : 'cyber-card hover:bg-cyan-400/20'
                                    }`}
                                >
                                    📊 Overview
                                </button>
                                <button 
                                    onClick={() => setActiveTab('holdings')}
                                    className={`px-6 py-3 rounded-lg transition-all ${
                                        activeTab === 'holdings' ? 'quantum-btn' : 'cyber-card hover:bg-cyan-400/20'
                                    }`}
                                >
                                    🎯 Holdings
                                </button>
                                <button 
                                    onClick={() => setActiveTab('simulation')}
                                    className={`px-6 py-3 rounded-lg transition-all ${
                                        activeTab === 'simulation' ? 'quantum-btn' : 'cyber-card hover:bg-cyan-400/20'
                                    }`}
                                >
                                    🔮 Simulation
                                </button>
                            </div>
                        </div>

                        {/* Tab Content */}
                        {renderTabContent()}

                        {/* Quick Actions */}
                        <div className="mt-8">
                            <div className="glass-morphism rounded-2xl p-6">
                                <h3 className="text-2xl font-bold text-cyan-400 mb-4">Quick Actions</h3>
                                <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <button className="quantum-btn py-3 rounded-lg">
                                        📈 Add Holding
                                    </button>
                                    <button className="quantum-btn py-3 rounded-lg">
                                        🔄 Update Values
                                    </button>
                                    <button className="quantum-btn py-3 rounded-lg">
                                        📊 Generate Report
                                    </button>
                                    <button className="quantum-btn py-3 rounded-lg">
                                        🎯 AI Recommendations
                                    </button>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        // Render the application
        ReactDOM.render(<PortfolioMastery />, document.getElementById('root'));
    </script>
</body>
</html>
